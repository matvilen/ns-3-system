### Описание и моделирование транспортного протокола в проводной сети

Для построения модели мы выбрали топологию, изображенную на рис. 1. Данная схема определяет соединения, где исследуемыми узлами являются N0 и N1. Помимо них, в нашей модели имеются узлы-отправители и узлы-получатели, между которыми будут передаваться данные.

![Alt text](https://github.com/tulskov/ns-3-system/blob/master/Wired/Img/topology.png "Рис. 1. Моделируемая топология сети")

Между исследуемыми узлами сетевой канал представляет собой соединение точка-точка (point-to-point), а остальные узлы подключены к N0 и~N1 по Ethernet, используя CSMA (Carrier Sense Multiple Access with Collision Detection - множественный доступ с контролем несущей и обнаружением коллизий). Помимо этого каждый сетевой канал имеет собственную скорость передачи данных и задержку передачи. Ключевой особенностью данной топологии является то, что с момента начала работы эксперимента трафик передается только от одного отправителя (TCP Source) к одному получателю (TCP Sink), остальные отправители (10 TCP Sources) передают данные к соответствующим получателям (10 TCP Sinks) в определенные промежутки времени. Данная особенность моделируемой топологии позволяет наглядно отобразить состояние сети при разных нагрузках. Помимо этих характеристик, стоит также отметить: размер пакета (500 байт), размер очереди (25 пакетов), передача данных осуществляется посредством сетевого протокола IPv4.

Программная реализация описанной топологии представлена в файле ```Wired/modelWired.cc```. 

Для компиляции исходного кода топологии необходимо файл ```modelWired.cc``` поместить в директорию ```scratch``` системы ns-3.

Запуск программы осуществляется командой: 
```
./waf --run scratch/modelWired
``` 

### Метод анализа модели ASCII Tracing

В своем исследовании мы воспользовались стандартной функцией ns-3 – ASCII Tracing, которая на выходе дает нам ASCII файл с расширением ```.tr```. Она представляет собой механизм, позволяющий пользователю записывать в лог - файл только интересующие его события, и предоставляет подробную информацию о передаче пакетов в сети. К плюсам такого подхода можно отнести то, что система генерирует нам файл, содержащий в себе полный набор данных по событиям, происходящим в нашей топологии. Недостатком является то, что наши потребности во множестве анализируемых сетевых характеристик намного меньше, чем нам предоставляет система, а для того, чтобы изменить формат выходных данных трассировки, нужно модифицировать ядро системы, что является трудоемкой задачей.

![Alt text](https://github.com/tulskov/ns-3-system/blob/master/Wired/Img/data.png "Рис. 2. Фрагмент трассы модели")

### Фильтрация данных с помощью awk
Для обработки текстовых данных мы будем использовать утилиту awk, которая зачастую пирменяется совместно с sed. Концепция работы в awk заключается в том, что он читает за один раз одну строку, выполняет определенные действия в зависимости от заданных опций и выводит результат.

В скрипте ```Script (awk+Gnuplot).sh``` реализованы различные механизмы выборок и фильтрации сгенерированных данных.

Запуск скрипта осуществляется командой:
```
bash Script.sh DataModel.tr Rx.dat
```
где ```DataModel.tr``` - файл с трассами, ```Rx.dat``` - результирующий файл.

### Визуализация трафика с помощью Gnuplot
Для представления полученых наборов данных в графический вид воспользуемся программой Gnuplot.

Генерация графика происходит с помощью команды:
```
gnuplot> load 'Plot.p'
```
Ниже представлены типы графиков, полученные при анализе и исследовании производительности различных версий протокола TCP: TCP Tahoe, TCP Reno, TCP NewReno. 

Полный набор графиков находиться в директории ```Img```.

![](https://github.com/tulskov/ns-3-system/blob/master/Wired/Img/Tc10.png)
![](https://github.com/tulskov/ns-3-system/blob/master/Wired/Img/NRca.png)
![](https://github.com/tulskov/ns-3-system/blob/master/Wired/Img/Rs10.png)
![](https://github.com/tulskov/ns-3-system/blob/master/Wired/Img/Tsa.png)
![](https://github.com/tulskov/ns-3-system/blob/master/Wired/Img/NRcwnd.png)

